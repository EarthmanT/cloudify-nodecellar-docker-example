{"resources_root": "/uri-dev/docker-nodecellar/blueprint", "nodes": [{"operations": {"cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.stop": {"inputs": {"daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.stop", "plugin": "docker"}, "cloudify.interfaces.lifecycle.configure": {"inputs": {"container_config": {"image": "dockerfile/mongodb", "command": ["mongod", "--rest", "--httpinterface"], "ports": [27017, 28017]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.start": {"inputs": {"container_start": {"port_bindings": {"27017": 27017, "28017": 28017}}, "daemon_client": {}}, "operation": "docker_plugin.tasks.run", "plugin": "docker"}, "delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "configure": {"inputs": {"container_config": {"image": "dockerfile/mongodb", "command": ["mongod", "--rest", "--httpinterface"], "ports": [27017, 28017]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}}, "relationships": [{"source_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.contained_in"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "vm", "state": "reachable", "base": "contained", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.contained_in", "properties": {"connection_type": "all_to_all"}}], "declared_type": "mongo_database", "name": "mongod", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.SoftwareComponent", "cloudify.nodes.DBMS", "mongo_database"], "deployment_plugins_to_install": [], "id": "mongod", "instances": {"deploy": 1}, "plugins": {"docker": {"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}}, "host_id": "vm", "type": "mongo_database", "properties": {"role": "mongod", "web_port": 28017, "port": 27017, "cloudify_runtime": {}}}, {"operations": {"cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.stop": {"inputs": {"daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.stop", "plugin": "docker"}, "cloudify.interfaces.lifecycle.configure": {"inputs": {"container_config": {"environment": {"MONGO_PORT": 27017, "NODECELLAR_PORT": 8080}, "image": "cloudify/nodecellar", "command": ["nodejs", "server.js"], "ports": [8080]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.start": {"inputs": {"container_start": {"port_bindings": {"8080": 8080}}, "daemon_client": {}}, "operation": "docker_plugin.tasks.run", "plugin": "docker"}, "delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "configure": {"inputs": {"container_config": {"environment": {"MONGO_PORT": 27017, "NODECELLAR_PORT": 8080}, "image": "cloudify/nodecellar", "command": ["nodejs", "server.js"], "ports": [8080]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}}, "relationships": [{"source_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.contained_in"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "vm", "state": "reachable", "base": "contained", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.contained_in", "properties": {"connection_type": "all_to_all"}}, {"source_operations": {"preconfigure": {"inputs": {"script_path": "nodecellar-scripts/preconfigure.py"}, "operation": "script_runner.tasks.run", "plugin": "script"}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {"script_path": "nodecellar-scripts/preconfigure.py"}, "operation": "script_runner.tasks.run", "plugin": "script"}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.connected_to"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "mongod", "state": "reachable", "base": "connected", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "nodecellar-scripts/preconfigure.py", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.connected_to", "properties": {"connection_type": "all_to_all"}}], "declared_type": "nodejs_app", "name": "nodecellar_app", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.SoftwareComponent", "cloudify.nodes.ApplicationServer", "nodejs_app"], "deployment_plugins_to_install": [], "id": "nodecellar_app", "instances": {"deploy": 1}, "plugins": {"docker": {"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}, "script": {"source": null, "name": "script", "install": false, "executor": "host_agent"}}, "host_id": "vm", "type": "nodejs_app", "properties": {"env_file_path": "", "base_port": 8080, "cloudify_runtime": {}}}, {"operations": {"cloudify.interfaces.lifecycle.delete": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.host.get_state": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.start": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.start": {"inputs": {}, "operation": "worker_installer.tasks.start", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.stop": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.restart": {"inputs": {}, "operation": "worker_installer.tasks.restart", "plugin": "agent_installer"}, "cloudify.interfaces.plugin_installer.install": {"inputs": {}, "operation": "plugin_installer.tasks.install", "plugin": "plugin_installer"}, "configure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.stop": {"inputs": {}, "operation": "worker_installer.tasks.stop", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.start": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.install": {"inputs": {}, "operation": "worker_installer.tasks.install", "plugin": "agent_installer"}, "restart": {"inputs": {}, "operation": "worker_installer.tasks.restart", "plugin": "agent_installer"}, "cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.uninstall": {"inputs": {}, "operation": "worker_installer.tasks.uninstall", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.stop": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.uninstall": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.configure": {"inputs": {}, "operation": "", "plugin": ""}, "get_state": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.install": {"inputs": {}, "operation": "", "plugin": ""}, "delete": {"inputs": {}, "operation": "", "plugin": ""}}, "deployment_plugins_to_install": [{"source": null, "name": "agent_installer", "install": false, "executor": "central_deployment_agent"}], "declared_type": "cloudify.nodes.Compute", "name": "vm", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.Compute"], "relationships": [], "id": "vm", "instances": {"deploy": 1}, "plugins": {"agent_installer": {"source": null, "name": "agent_installer", "install": false, "executor": "central_deployment_agent"}, "plugin_installer": {"source": null, "name": "plugin_installer", "install": false, "executor": "host_agent"}}, "host_id": "vm", "type": "cloudify.nodes.Compute", "properties": {"ip": "192.168.33.11", "install_agent": false, "cloudify_agent": {"user": "vagrant", "key": "/home/vagrant/.ssh/agent_key.pem"}, "cloudify_runtime": {}}, "plugins_to_install": [{"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}, {"source": null, "name": "plugin_installer", "install": false, "executor": "host_agent"}, {"source": null, "name": "script", "install": false, "executor": "host_agent"}]}], "plan": {"relationships": {"cloudify.relationships.depends_on": {"source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {}, "postconfigure": {}, "establish": {}, "unlink": {}}}, "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {}, "postconfigure": {}, "establish": {}, "unlink": {}}}, "properties": {"connection_type": {"default": "all_to_all"}}, "name": "cloudify.relationships.depends_on"}, "cloudify.relationships.connected_to": {"source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "name": "cloudify.relationships.connected_to", "derived_from": "cloudify.relationships.depends_on", "properties": {"connection_type": {"default": "all_to_all"}}}, "cloudify.relationships.contained_in": {"source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "name": "cloudify.relationships.contained_in", "derived_from": "cloudify.relationships.depends_on", "properties": {"connection_type": {"default": "all_to_all"}}}}, "inputs": {"host_ip": "192.168.33.11", "agent_user": "vagrant", "agent_private_key_path": "/home/vagrant/.ssh/agent_key.pem"}, "deployment_plugins_to_install": [{"source": null, "name": "agent_installer", "install": false, "executor": "central_deployment_agent"}], "policy_types": {"cloudify.policies.types.threshold": {"source": "https://raw.githubusercontent.com/cloudify-cosmo/cloudify-manager/master/resources/rest-service/cloudify/policies/threshold.clj", "properties": {"threshold": {"description": "The metric threshold value"}, "metric": {"description": "The metric name"}, "upper_bound": {"default": true, "description": "boolean value for describing the semantics of the threshold.\nif 'true': metrics whose value if bigger then the threshold\nwill cause the triggers to be processed. if 'false': metrics\nwith values lower then the threshold will do so.\n"}}}}, "outputs": {"endpoint": {"description": "Web application endpoint", "value": {"ip_address": {"get_attribute": ["vm", "ip"]}, "port": 8080}}}, "node_instances": [{"relationships": [], "host_id": "vm_2d760", "node_id": "vm", "name": "vm", "id": "vm_2d760"}, {"relationships": [{"target_name": "vm", "target_id": "vm_2d760", "type": "cloudify.relationships.contained_in"}], "host_id": "vm_2d760", "node_id": "mongod", "name": "mongod", "id": "mongod_0f57b"}, {"relationships": [{"target_name": "vm", "target_id": "vm_2d760", "type": "cloudify.relationships.contained_in"}, {"target_name": "mongod", "target_id": "mongod_0f57b", "type": "cloudify.relationships.connected_to"}], "host_id": "vm_2d760", "node_id": "nodecellar_app", "name": "nodecellar_app", "id": "nodecellar_app_56907"}], "workflow_plugins_to_install": [{"source": null, "name": "default_workflows", "install": false, "executor": "central_deployment_agent"}], "groups": {}, "workflows": {"execute_operation": {"operation": "cloudify.plugins.workflows.execute_operation", "parameters": {"operation_kwargs": {"default": {}}, "node_ids": {"default": []}, "node_instance_ids": {"default": []}, "run_by_dependency_order": {"default": false}, "operation": {}, "type_names": {"default": []}}, "plugin": "default_workflows"}, "install": {"operation": "cloudify.plugins.workflows.install", "plugin": "default_workflows"}, "uninstall": {"operation": "cloudify.plugins.workflows.uninstall", "plugin": "default_workflows"}}, "nodes": [{"operations": {"cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.stop": {"inputs": {"daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.stop", "plugin": "docker"}, "cloudify.interfaces.lifecycle.configure": {"inputs": {"container_config": {"image": "dockerfile/mongodb", "command": ["mongod", "--rest", "--httpinterface"], "ports": [27017, 28017]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.start": {"inputs": {"container_start": {"port_bindings": {"27017": 27017, "28017": 28017}}, "daemon_client": {}}, "operation": "docker_plugin.tasks.run", "plugin": "docker"}, "delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "configure": {"inputs": {"container_config": {"image": "dockerfile/mongodb", "command": ["mongod", "--rest", "--httpinterface"], "ports": [27017, 28017]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}}, "relationships": [{"source_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.contained_in"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "vm", "state": "reachable", "base": "contained", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.contained_in", "properties": {"connection_type": "all_to_all"}}], "declared_type": "mongo_database", "name": "mongod", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.SoftwareComponent", "cloudify.nodes.DBMS", "mongo_database"], "deployment_plugins_to_install": [], "properties": {"role": "mongod", "web_port": 28017, "port": 27017, "cloudify_runtime": {}}, "instances": {"deploy": 1}, "plugins": {"docker": {"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}}, "host_id": "vm", "type": "mongo_database", "id": "mongod"}, {"operations": {"cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.stop": {"inputs": {"daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.stop", "plugin": "docker"}, "cloudify.interfaces.lifecycle.configure": {"inputs": {"container_config": {"environment": {"MONGO_PORT": 27017, "NODECELLAR_PORT": 8080}, "image": "cloudify/nodecellar", "command": ["nodejs", "server.js"], "ports": [8080]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.start": {"inputs": {"container_start": {"port_bindings": {"8080": 8080}}, "daemon_client": {}}, "operation": "docker_plugin.tasks.run", "plugin": "docker"}, "delete": {"inputs": {"container_remove": {}, "daemon_client": {}, "container_stop": {}}, "operation": "docker_plugin.tasks.delete", "plugin": "docker"}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "configure": {"inputs": {"container_config": {"environment": {"MONGO_PORT": 27017, "NODECELLAR_PORT": 8080}, "image": "cloudify/nodecellar", "command": ["nodejs", "server.js"], "ports": [8080]}, "daemon_client": {}}, "operation": "docker_plugin.tasks.configure", "plugin": "docker"}}, "relationships": [{"source_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.contained_in"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "vm", "state": "reachable", "base": "contained", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.contained_in", "properties": {"connection_type": "all_to_all"}}, {"source_operations": {"preconfigure": {"inputs": {"script_path": "nodecellar-scripts/preconfigure.py"}, "operation": "script_runner.tasks.run", "plugin": "script"}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {"script_path": "nodecellar-scripts/preconfigure.py"}, "operation": "script_runner.tasks.run", "plugin": "script"}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "target_operations": {"preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.unlink": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.preconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.establish": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.relationship_lifecycle.postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "postconfigure": {"inputs": {}, "operation": "", "plugin": ""}, "establish": {"inputs": {}, "operation": "", "plugin": ""}}, "type_hierarchy": ["cloudify.relationships.depends_on", "cloudify.relationships.connected_to"], "target_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "target_id": "mongod", "state": "reachable", "base": "connected", "source_interfaces": {"cloudify.interfaces.relationship_lifecycle": {"preconfigure": {"implementation": "nodecellar-scripts/preconfigure.py", "inputs": {}}, "postconfigure": {"implementation": "", "inputs": {}}, "establish": {"implementation": "", "inputs": {}}, "unlink": {"implementation": "", "inputs": {}}}}, "type": "cloudify.relationships.connected_to", "properties": {"connection_type": "all_to_all"}}], "declared_type": "nodejs_app", "name": "nodecellar_app", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.SoftwareComponent", "cloudify.nodes.ApplicationServer", "nodejs_app"], "deployment_plugins_to_install": [], "properties": {"env_file_path": "", "base_port": 8080, "cloudify_runtime": {}}, "instances": {"deploy": 1}, "plugins": {"docker": {"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}, "script": {"source": null, "name": "script", "install": false, "executor": "host_agent"}}, "host_id": "vm", "type": "nodejs_app", "id": "nodecellar_app"}, {"operations": {"cloudify.interfaces.lifecycle.delete": {"inputs": {}, "operation": "", "plugin": ""}, "creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.host.get_state": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.start": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.start": {"inputs": {}, "operation": "worker_installer.tasks.start", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.start": {"inputs": {}, "operation": "", "plugin": ""}, "create": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.stop": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring.stop": {"inputs": {}, "operation": "", "plugin": ""}, "deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.validation.deletion": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.restart": {"inputs": {}, "operation": "worker_installer.tasks.restart", "plugin": "agent_installer"}, "cloudify.interfaces.plugin_installer.install": {"inputs": {}, "operation": "plugin_installer.tasks.install", "plugin": "plugin_installer"}, "configure": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.stop": {"inputs": {}, "operation": "worker_installer.tasks.stop", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.start": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.install": {"inputs": {}, "operation": "worker_installer.tasks.install", "plugin": "agent_installer"}, "restart": {"inputs": {}, "operation": "worker_installer.tasks.restart", "plugin": "agent_installer"}, "cloudify.interfaces.validation.creation": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.worker_installer.uninstall": {"inputs": {}, "operation": "worker_installer.tasks.uninstall", "plugin": "agent_installer"}, "cloudify.interfaces.lifecycle.stop": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.uninstall": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.lifecycle.configure": {"inputs": {}, "operation": "", "plugin": ""}, "get_state": {"inputs": {}, "operation": "", "plugin": ""}, "cloudify.interfaces.monitoring_agent.install": {"inputs": {}, "operation": "", "plugin": ""}, "delete": {"inputs": {}, "operation": "", "plugin": ""}}, "deployment_plugins_to_install": [{"source": null, "name": "agent_installer", "install": false, "executor": "central_deployment_agent"}], "declared_type": "cloudify.nodes.Compute", "name": "vm", "type_hierarchy": ["cloudify.nodes.Root", "cloudify.nodes.Compute"], "properties": {"ip": "192.168.33.11", "install_agent": false, "cloudify_agent": {"user": "vagrant", "key": "/home/vagrant/.ssh/agent_key.pem"}, "cloudify_runtime": {}}, "instances": {"deploy": 1}, "plugins": {"agent_installer": {"source": null, "name": "agent_installer", "install": false, "executor": "central_deployment_agent"}, "plugin_installer": {"source": null, "name": "plugin_installer", "install": false, "executor": "host_agent"}}, "host_id": "vm", "type": "cloudify.nodes.Compute", "id": "vm", "plugins_to_install": [{"source": "cloudify-docker-plugin", "name": "docker", "install": true, "executor": "host_agent"}, {"source": null, "name": "plugin_installer", "install": false, "executor": "host_agent"}, {"source": null, "name": "script", "install": false, "executor": "host_agent"}]}], "policy_triggers": {"cloudify.policies.triggers.execute_workflow": {"source": "https://raw.githubusercontent.com/cloudify-cosmo/cloudify-manager/master/resources/rest-service/cloudify/triggers/execute_workflow.clj", "parameters": {"workflow_parameters": {"default": {}, "description": "Workflow paramters"}, "force": {"default": false, "description": "Should the workflow be executed even when another execution\nfor the same workflow is currently in progress\n"}, "workflow": {"description": "Workflow name to execute"}, "socket_timeout": {"default": 1000, "description": "Socket timeout when making request to manager REST in ms"}, "allow_custom_parameters": {"default": false, "description": "Should parameters not defined in the workflow parameters\nschema be accepted\n"}, "conn_timeout": {"default": 1000, "description": "Connection timeout when making request to manager REST in ms"}}}}}}